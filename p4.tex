18. Las ecuaciones de transformación entre dos sistemas de coordenadas son
$$
\begin{gathered}
Q=\log \left(1+q^{1 / 2} \cos p\right) \\
P=2\left(1+q^{1 / 2} \cos p\right) q^{1 / 2} \sin p
\end{gathered}
$$
a) A partir de estas ecuaciones de transformación, demostrar directamente que $Q, P$ son variables canónicas si lo son $q$ y $p$.
b) Demostrar que la función que genera esta transformación es
$$
F_3=-\left(e^Q-1\right)^2 \tan p
$$